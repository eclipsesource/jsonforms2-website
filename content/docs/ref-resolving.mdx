---
id: ref-resolving
title: Ref Resolving
---

:::caution ATTENTION

With version 3.0 of JSON Forms, we no longer include `json-schema-ref-parser` within the core page. 
The old documentation for JSON Forms < 3.0 can be found <a href="/docs/deprecated/ref-resolving-legacy">here</a>. 
For a migration guide, have a look <a href="https://github.com/eclipsesource/jsonforms/blob/master/MIGRATION.md">here</a>.

:::

Resolving of external dependencies is not a core feature of JSON Forms which is why we (until version 3.0) delegated it to a 3rd party dependency. 
However the `json-schema-ref-parser` library is not only slow and mutating schemas in place but also brings in a number of questionable Node dependent dependencies.
The way resolving was implemented resulted in the same flow as resolving it outside of JSON Forms and handing the resolved schema over for all but the very niche use case of unresolved schemas in the ui schema registry.
Therefore we removed this dependency and the delegation in JSON Forms 3.0 and now only support basic ref resolving.

For more complex cases, we recommend to use `json-schema-ref-parser` or `json-refs` before handing the schema to JSON Forms.
Here is an example, how to use these libraries to resolve your refs before handing the schema to JSON Forms:

```ts
import React, { useState } from 'react';
import { JsonForms } from '@jsonforms/react';
import { materialCells, materialRenderers } from '@jsonforms/material-renderers';
import $RefParser from '@apidevtools/json-schema-ref-parser';
import JsonRefs from 'JsonRefs';

const schema = {
  $defs: {
    Base: {
      type: 'object',
      properties: {
        width: {
          type: 'integer'
        }
      }
    },
    Child: {
      type: 'object',
      allOf: [
        { $ref: '#/$defs/Base' },
        {
          properties: {
            geometry: {
              type: 'string'
            }
          }
        }
      ]
    }
  },
  type: 'object',
  properties: {
    element: {
      $ref: '#/$defs/Child'
    }
  }
};

const resolvedSchema = $RefParser.dereference(schema)
// or
const resolvedSchema = JsonRefs.resolveRefs(schema)

function App() {
  const [data, setData] = useState(initialData);

  return (
    <JsonForms
      schema={resolvedSchema}
      uischema={uischema}
      data={data}
      renderers={materialRenderers}
      cells={materialCells}
      onChange={({ data, _errors }) => setData(data)}
    />
  );
}
```
